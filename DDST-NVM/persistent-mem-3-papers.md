---
layout: page
title: 持久内存系统设计的三座大山
subtitle: Mnemosyne, NV-Heaps与Heapo
use-site-title: true
---

## 持久内存系统设计简介

持久内存系统提供一种通过Load/Store指令来以字节寻址的方式直接访问持久内存（PM）的接口，而不是通过文件系统的形式使用持久内存。其中，Mnemosyne, NV-Heaps与Heapo 是早期设计的解除代表，前两者发表在 ASPLOS 上，后者发表在 TOS 上。Mnemosyne 提供了一套简便易用的持久内存使用接口，而 NV-Heaps 和 Heapo 提供了基于（常用数据结构）对象的内存访问接口，是更高一层的抽象和封装。

我们 DDST 内存管理组也在 863 内存计算项目的驱使下，也开发了一套名为 Daisy 的持久内存系统，主要实现了对 PM 的持久区域抽象、持久区域管理以及持久内存下的数据一致性保证。

然而，在将我们组的工作整理成一篇论文的过程中，我遇到了许多设计层面的问题：

## Introduction 模板

一个 Introduction 也许是论文中最重要的部分，不，它就是最重要的部分。Introduction 应当简明扼要地介绍论文工作的背景，研究点及其动机，相关工作解决的问题及其局限性，自身工作的特点、优势及贡献，实验如何开展，结果如何，有什么效果和影响，以及文章的布局结构又是如何。

虽然知道大概要以这样的标准来写一篇优秀的 Introduction，但实际上做的时候，则会因为自身水平的局限性和工作内容创新的局限性而与真正的优秀之作相距甚远。

初稿是粗糙且未经检查的不完全版本，果不其然，被老师打回来要求一字一句重新来过，模仿优秀论文的 Introduction 来写好我自己的文章。

所以，我整理了四套模板以供参考，第一套是老师给我的模板（多用于算法领域），另外三份则是持久内存系统的三大开山之作，对我的工作更具参考价值。

## 老师的模板

- 问题是什么？
- 为什么这个问题是有趣且重要的？
- 它的难度/挑战在哪里？简单的方法为什么不行？
- 针对这个问题，state-of-the-art的解决方案为什么不适用？其瓶颈在哪？
- 关键的设计组成部分是什么？它的作用和功能是什么？有什么特殊限制么？
- 本工作的贡献是什么，罗列三点：
	- 我们做了······
	- 我们还做了······
	- 我们做了一系列丰富的实验，并且结果体现了我们设计的优越性，超过某某方案多少······
- 文章的谋篇布局介绍
	- 第二部分介绍了某某问题/背景······
	- 第三部分给出了一个概览/设计模型
	- 第四部分介绍了方案/机制/系统的实现
	- 第五部分讲述了实验并给出详细的分析
	- 第六部分介绍了相关的重要工作
	- 最后一部分对全文做出总结

### Mnemosyne 风格

- 第一段：引出故事的主角——Persistent Memory。
- 第二段：介绍现有（操作）系统设计的特点，以及在新技术面前的局限性。
- 第三段：介绍 Mnemosyne 自己的设计思想（第一层——抽象 PM 为内存直访）。
- 第四段：介绍 Mnemosyne 将如何使用新型 PM 作为开发基础，即路线的选择——不是文件系统还是直接字节寻址内存的快速存取。
- 第五段：提出设计目标——一个持久内存能系统所应该具备的功能：
	- 编程简便性
	- 支持一致性数据变更
	- 与现有处理器设计相兼容
- 第六段：介绍核心工作——开发了一个怎样的系统：目的，功能。
	- 一个轻量级的内存系统（提供便捷的用户接口）
	- 提供持久区域的抽象
	- 持久化原语
	- 持久化内存事务及一致性保证
- 第七段：介绍自己系统的特色，做分化——其他工作的使用条件与局限性
	- 细粒度（low-level）的接口
	- 不同级别的一致性保证
	- 不需要使用 object framework
- 第八段：系统实现部分的简明介绍。
	- 在什么内核/系统上实现
	- 用什么模拟 PM
- 第九段：实验评估部分的简要介绍。
	- Microbenchmark 是什么
	- 应用级 benchmark 是什么
	- 结果展示及评价
- 第十段：标准段——贡献介绍
	- 一套管理和暴露持久内存给用户程序的层级架构
	- 数据一致性的保证和一套用户库函数
	- 软件事务内存机制的持久化策略
	- 一个新颖的原子写日志方法
- 第十一段： 标准段——文章的组织结构

### NV-Heaps 风格

### Heapo 风格

### 我决定采用的风格



## Daisy：说个故事给你听






<!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js"></script>
<!-- UY END -->

